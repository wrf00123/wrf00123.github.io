<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实用工具小程序</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- 配置Tailwind自定义颜色 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36CFC9',
                        accent: '#722ED1',
                        neutral: '#F2F3F5',
                        dark: '#1D2129'
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .nav-active {
                @apply bg-primary text-white border-l-4 border-secondary;
            }
            .iframe-container {
                @apply relative overflow-hidden rounded-lg shadow-lg transition-all duration-300;
            }
            .scrollbar-thin {
                scrollbar-width: thin;
            }
            .scrollbar-thumb-gray-200 {
                scrollbar-color: rgba(203, 213, 225, 0.5) transparent;
            }
            .scrollbar-thumb-gray-300 {
                scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
            }
        }
    </style>
</head>

<body class="font-inter bg-gray-50 text-dark min-h-screen flex flex-col m-0 p-0">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-md py-4 px-6 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-code-fork text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-primary">实用工具小程序</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button id="refreshBtn" class="p-2 rounded-full hover:bg-gray-100 transition-colors">
                    <i class="fa fa-refresh text-gray-600"></i>
                </button>
                <button id="fullscreenBtn" class="p-2 rounded-full hover:bg-gray-100 transition-colors">
                    <i class="fa fa-expand text-gray-600"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 主要内容区 - 铺满屏幕 -->
    <main class="flex-1 flex flex-col md:flex-row w-full">
        <!-- 侧边导航 - 增加搜索功能 -->
        <nav class="w-full md:w-64 bg-white shadow-md flex-shrink-0 border-r border-gray-200">
            <div class="p-4 border-b border-gray-200">
                <h2 class="text-lg font-semibold mb-4">页面导航</h2>

                <!-- 搜索框 -->
                <div class="relative mb-4">
                    <input type="text" id="navSearch" placeholder="搜索页面..." class="w-full px-4 py-2 pl-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all">
                    <i class="fa fa-search absolute left-3 top-3 text-gray-400"></i>
                </div>
            </div>

            <!-- 导航列表 - 带滚动功能 -->
            <div class="nav-scroll-container h-[calc(100vh-180px)] overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-transparent hover:scrollbar-thumb-gray-300">
                <ul class="space-y-1" id="navList">
                    <li>
                        <a href="page1.html" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="首页内容" data-search="首页 首页内容">
                            <i class="fa fa-home mr-2 text-primary"></i>首页
                        </a>
                    </li>
                    <li>
                        <a href="page2.html" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="数据展示" data-search="数据 展示 图表">
                            <i class="fa fa-bar-chart mr-2 text-primary"></i>数据展示
                        </a>
                    </li>
                    <li>
                        <a href="page3.html" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="表单示例" data-search="表单 示例 输入">
                            <i class="fa fa-wpforms mr-2 text-primary"></i>表单示例
                        </a>
                    </li>
                    <li>
                        <a href="page4.html" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="图片画廊" data-search="图片 画廊 相册">
                            <i class="fa fa-picture-o mr-2 text-primary"></i>图片画廊
                        </a>
                    </li>
                    <li>
                        <a href="https://example.com" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="外部网站" data-search="外部 网站 链接">
                            <i class="fa fa-external-link mr-2 text-primary"></i>外部网站
                        </a>
                    </li>
                    <li>
                        <a href="page5.html" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="设置页面" data-search="设置 配置 偏好">
                            <i class="fa fa-cog mr-2 text-primary"></i>设置页面
                        </a>
                    </li>
                    <li>
                        <a href="page6.html" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="帮助中心" data-search="帮助 中心 问题 解答">
                            <i class="fa fa-question-circle mr-2 text-primary"></i>帮助中心
                        </a>
                    </li>
                    <li>
                        <a href="page7.html" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="关于我们" data-search="关于 我们 公司 团队">
                            <i class="fa fa-info-circle mr-2 text-primary"></i>关于我们
                        </a>
                    </li>
                    <li>
                        <a href="page8.html" class="nav-link block px-4 py-3 rounded hover:bg-gray-100 transition-colors" data-title="联系我们" data-search="联系 我们 电话 邮箱">
                            <i class="fa fa-envelope mr-2 text-primary"></i>联系我们
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- 内容显示区 - 铺满剩余空间 -->
        <div class="flex-1 flex flex-col bg-gray-50">
            <!-- 内容标题栏 -->
            <div class="bg-white shadow-sm p-4 flex justify-between items-center">
                <h2 id="contentTitle" class="text-lg font-semibold">请选择左侧导航加载内容</h2>
                <div class="text-sm text-gray-500" id="pageInfo">未加载任何页面</div>
            </div>

            <!-- iframe容器 - 铺满空间 -->
            <div class="iframe-container flex-1">
                <iframe id="contentFrame" src="" class="w-full h-full" frameborder="0" title="内容显示区域">
                    您的浏览器不支持iframe标签，无法查看内容。
                </iframe>
            </div>

            <!-- 状态信息 -->
            <div class="bg-white shadow-sm p-4">
                <h3 class="font-medium mb-2">状态信息</h3>
                <div id="statusMessage" class="text-sm text-gray-600">等待加载内容...</div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-4 px-6">
        <div class="container mx-auto text-center text-sm">
            <p>HTML嵌入管理器 &copy; 2023 | 用于嵌入和管理多个HTML页面</p>
        </div>
    </footer>

    <script>
        // 获取DOM元素
        const contentFrame = document.getElementById('contentFrame');
        const contentTitle = document.getElementById('contentTitle');
        const pageInfo = document.getElementById('pageInfo');
        const statusMessage = document.getElementById('statusMessage');
        const navLinks = document.querySelectorAll('.nav-link');
        const refreshBtn = document.getElementById('refreshBtn');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const navSearch = document.getElementById('navSearch');
        const navList = document.getElementById('navList');
        
        // 初始化导航链接点击事件
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // 更新导航激活状态
                navLinks.forEach(l => l.classList.remove('nav-active'));
                this.classList.add('nav-active');
                
                // 获取目标URL和标题
                const targetUrl = this.getAttribute('href');
                const targetTitle = this.getAttribute('data-title');
                
                // 更新标题
                contentTitle.textContent = targetTitle;
                pageInfo.textContent = `当前页面: ${targetUrl}`;
                
                // 显示加载状态
                statusMessage.textContent = `正在加载 ${targetUrl}...`;
                statusMessage.className = 'text-sm text-blue-600';
                
                // 加载目标页面
                loadIframeContent(targetUrl);
            });
        });
        
        // 搜索功能实现
        navSearch.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            
            navLinks.forEach(link => {
                const searchText = link.getAttribute('data-search').toLowerCase();
                const listItem = link.parentElement;
                
                if (searchTerm === '' || searchText.includes(searchTerm)) {
                    listItem.style.display = 'block';
                } else {
                    listItem.style.display = 'none';
                }
            });
        });
        
        // 加载iframe内容
        function loadIframeContent(url) {
            // 清除之前的内容
            contentFrame.src = '';
            
            // 设置新的源
            setTimeout(() => {
                contentFrame.src = url;
            }, 100);
        }
        
        // 监听iframe加载事件
        contentFrame.addEventListener('load', function() {
            try {
                // 尝试获取页面标题（同域情况下）
                let pageTitle = '';
                try {
                    pageTitle = contentFrame.contentDocument.title ? 
                                `（${contentFrame.contentDocument.title}）` : '';
                } catch (e) {
                    // 跨域时无法访问内容，忽略错误
                    pageTitle = '（外部网站）';
                }
                
                statusMessage.textContent = `页面加载完成 ${pageTitle}`;
                statusMessage.className = 'text-sm text-green-600';
            } catch (error) {
                statusMessage.textContent = `加载完成，但无法获取页面信息`;
                statusMessage.className = 'text-sm text-yellow-600';
            }
        });
        
        // 监听iframe错误事件
        contentFrame.addEventListener('error', function() {
            statusMessage.textContent = `页面加载失败，请检查URL是否正确`;
            statusMessage.className = 'text-sm text-red-600';
        });
        
        // 刷新按钮功能
        refreshBtn.addEventListener('click', function() {
            if (contentFrame.src) {
                statusMessage.textContent = `正在刷新页面...`;
                statusMessage.className = 'text-sm text-blue-600';
                contentFrame.src = contentFrame.src;
            } else {
                statusMessage.textContent = `请先加载一个页面再刷新`;
                statusMessage.className = 'text-sm text-yellow-600';
            }
        });
        
        // 全屏按钮功能
        fullscreenBtn.addEventListener('click', function() {
            const iframeContainer = document.querySelector('.iframe-container');
            
            if (!document.fullscreenElement) {
                if (iframeContainer.requestFullscreen) {
                    iframeContainer.requestFullscreen();
                } else if (iframeContainer.webkitRequestFullscreen) { /* Safari */
                    iframeContainer.webkitRequestFullscreen();
                } else if (iframeContainer.msRequestFullscreen) { /* IE11 */
                    iframeContainer.msRequestFullscreen();
                }
                fullscreenBtn.innerHTML = '<i class="fa fa-compress text-gray-600"></i>';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) { /* Safari */
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE11 */
                    document.msExitFullscreen();
                }
                fullscreenBtn.innerHTML = '<i class="fa fa-expand text-gray-600"></i>';
            }
        });
        
        // 默认加载第一个页面
        setTimeout(() => {
            navLinks[0].click();
        }, 500);
    </script>
</body>

</html>